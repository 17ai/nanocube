<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" href="css/leaflet.css"/>
  <link rel="stylesheet" href="css/leaflet.draw.css"/>
  <link rel="stylesheet" href="css/index.css"/>
  <link rel="stylesheet" href="../css/bootstrap.css"/>
  <link rel="stylesheet" href="../css/style.css"/>

  <script src="util.js"></script>
  <script src="../lib/d3.js"></script>
  <script src="../lib/jquery-1.7.2.min.js"></script>
  <script src="../lib/underscore-min.js"></script>
  <script src="../lib/d3.parsets.js"></script>
  <script src="lib/leaflet-src.js"></script>
  <script src="lib/leaflet.draw-src.js"></script>
  <script src="../../histogram.js"></script>
  <script src="../../binned_scatterplot.js"></script>
  <script src="../../time_series.js"></script>
  <script src="../../nanocube_view.js"></script>
  <script src="../../nanocube.js"></script>
  <script src="../../histogram.js"></script>
  <script src="../view_schemata.js"></script>
  <script src="../../leaflet/nanocube-leaflet.js"></script>
  <script>
    if (location.hash === '')
        location.hash = 'twitter_large';
    // bad hack stolen from mts.js ;)
    var l = location.hash.substr(1).split("&");
    var schema = l[0];
    var d = {};
    for (var i=0; i<l.length; ++i) {
         var t = l[i].split('=');
         d[t[0]] = t[1];
    }
    console.log(d);
    var view_schema = view_schemata[schema];
    if (d.lat) {
       view_schema.center.lat = d.lat;
       view_schema.center.lon = d.lon;
    }
    if (d.zoom > 0) view_schema.center.lzoom = d.zoom;
  </script>

<style>
body {
  padding-top: 0px;
}

.selected-mode {
   font-weight: 500;
   color: white;
}
</style>
</head>
<body>
  <div style="position: relative; width: 100%; height: 100%">
    <div id="map" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%">
    </div>
    <h3 id="title" class="vis-pane-bg" style="position: absolute; top: 0em; left: 1.7em"><span id="header"></span></h3>
    <div style="position: absolute; bottom:0em; right: 0em" id="vis-panes"></div>
    <div style="position: absolute; top: 0em; right: 0em" id="pan-select">
      <div class="vis-pane-bg">
	<div>[<a href="#" id="option-pan">Pan</a>]
          [<a href="#" id="option-select">Select</a>]
          [<a href="#" id="option-clear">Clear</a>]
	</div>
      </div>
    </div>
    <div style="position: absolute; top: 2.5em; right: 0em" id="colormap-controls">
      <div class="vis-pane-bg">
	<div>[<a href="#" id="make-brighter">Brighter</a>]
          [<a href="#" id="make-fainter">Fainter</a>]
	</div>
      </div>
    </div>
    <div style="position: absolute; top: 5em; right: 0em" id="colormap-controls">
      <div class="vis-pane-bg">
	<div>[<a href="#" id="make-coarser">Coarser</a>]
          [<a href="#" id="make-finer">Finer</a>]
	</div>
      </div>
    </div>
  </div>
  <script src="index.js"></script>
</body>
</html>
